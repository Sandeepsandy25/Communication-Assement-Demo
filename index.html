<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cognizant Aptitude Test — Practice Lab</title>
  <style>
    :root{--bg:#f5f7fb;--card:#fff;--accent:#0b5fff;--muted:#5b6670}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, Roboto, 'Helvetica Neue', Arial; margin:0;background:var(--bg);color:#0b1226}
    header{background:linear-gradient(90deg,var(--accent),#2463ff);color:#fff;padding:18px}
    .wrap{max-width:1100px;margin:20px auto;padding:16px}
    .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 8px 30px rgba(13,27,62,0.06)}
    .flex{display:flex;gap:12px}
    .muted{color:var(--muted)}
    h1,h2{margin:0}

    /* layout */
    .home-grid{display:grid;grid-template-columns:1fr 320px;gap:18px}
    @media (max-width:900px){.home-grid{grid-template-columns:1fr}}

    /* test UI */
    .timer{font-weight:800;font-size:18px}
    .qbox{margin-top:12px;padding:14px;border-radius:10px;border:1px solid #eef2ff}
    .options{margin-top:12px;display:flex;flex-direction:column;gap:8px}
    .opt{padding:10px;border-radius:8px;border:1px solid #eef2ff;cursor:pointer}
    .opt.selected{background:#eef6ff;border-color:var(--accent)}
    .controls{display:flex;gap:10px;margin-top:12px}
    .btn{padding:10px 12px;border-radius:8px;border:0;cursor:pointer}
    .btn.primary{background:var(--accent);color:#fff}
    .qgrid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:12px}
    .qcell{padding:8px;border-radius:6px;background:#fbfdff;text-align:center;border:1px solid #eef2ff;cursor:pointer}
    .qcell.answered{background:#e6fff0;border-color:#2aa84f}
    .qcell.marked{background:#fff4e6;border-color:#ff9f43}

    /* reasoning puzzle */
    .puzzle-wrap{display:flex;gap:18px;align-items:flex-start}
    .grid3{display:grid;grid-template-columns:repeat(3,90px);grid-template-rows:repeat(3,90px);gap:8px;padding:10px;background:#fafbff;border-radius:8px}
    .cell{width:90px;height:90px;background:#fff;border:1px solid #e9eefb;display:flex;align-items:center;justify-content:center}
    .cell.empty{background:#fff}
    .shape{width:48px;height:48px;border-radius:6px}
    .shape.circle{border-radius:50%}
    .opt-row{display:flex;gap:12px;margin-top:12px}
    .shape-btn{width:70px;height:70px;border-radius:10px;border:1px solid #eef2ff;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer}
    .shape-btn.correct{box-shadow:0 6px 18px rgba(40,167,69,0.08);border-color:#2aa84f}
    .shape-btn.wrong{box-shadow:0 6px 18px rgba(220,53,69,0.08);border-color:#dc3545}

    footer{padding:18px 0;text-align:center;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <h1>Cognizant Aptitude Test — Practice Lab</h1>
          <div class="muted">20 mock tests • Quantitative + Gamified Reasoning</div>
        </div>
        <div style="text-align:right">
          <div class="muted">Current test</div>
          <div id="currentTest" style="font-weight:800">Test 1 / 20</div>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="app"></div>
  </main>

  <footer>
    <div class="wrap muted">Built for practice — shapes are 2D simple shapes. Refresh clears in-memory progress (use the "Save progress" button to persist locally).</div>
  </footer>

  <script>
    // ------------------- CONFIG -------------------
    const TOTAL_TESTS = 20;
    const QUANT_PER_TEST = 10;
    const REASON_PER_TEST = 5;

    // ------ sample pools (30 quant questions) ------
    const QUANT_POOL = [
      {id:'Q1',q:'If a product is marked at Rs. 150 and sold at 20% discount, what is the selling price?',opts:['120','125','130','135'],ans:0},
      {id:'Q2',q:'If 5 workers take 20 days to finish a job, how many days will 10 workers take (same efficiency)?',opts:['10','8','12','9'],ans:0},
      {id:'Q3',q:'Average of 5 numbers is 20. If one number 30 is removed, what is the new average?',opts:['18','19','20','17'],ans:1},
      {id:'Q4',q:'Simple interest on Rs.1000 at 5% p.a for 2 years is?',opts:['100','50','200','150'],ans:0},
      {id:'Q5',q:'A train travels 120 km in 2 hours. Its speed is?',opts:['60 km/h','50 km/h','40 km/h','80 km/h'],ans:0},
      {id:'Q6',q:'If 3x+2=11, x equals?',opts:['3','4','2','5'],ans:0},
      {id:'Q7',q:'Ratio 3:4, total is 28. The larger part is?',opts:['12','16','18','20'],ans:1},
      {id:'Q8',q:'If price increases from 200 to 250, percentage increase is?',opts:['25%','20%','22%','30%'],ans:0},
      {id:'Q9',q:'Compound interest yearly at 10% on 1000 for 2 years is approx?',opts:['210','220','200','100'],ans:0},
      {id:'Q10',q:'LCM of 12 and 18 is?',opts:['36','72','6','18'],ans:0},
      {id:'Q11',q:'If x^2=81, x equals (positive)?',opts:['9','8','-9','3'],ans:0},
      {id:'Q12',q:'Probability of getting heads in a fair coin toss is?',opts:['1/2','1/3','1/4','2/3'],ans:0},
      {id:'Q13',q:'Perimeter of square with side 5 is?',opts:['20','25','10','15'],ans:0},
      {id:'Q14',q:'If a:b = 2:3 and b:c = 4:5 then a:c = ?',opts:['8:15','2:3','8:5','4:15'],ans:0},
      {id:'Q15',q:'If discount is 10% on 500, saving is?',opts:['50','40','45','55'],ans:0},
      {id:'Q16',q:'A number increased by 20% becomes 120. Original number is?',opts:['100','90','80','95'],ans:0},
      {id:'Q17',q:'If 7x=49, x = ?',opts:['7','6','8','9'],ans:0},
      {id:'Q18',q:'If the circumference of circle is 2πr, r=7 and π=22/7, circumference = ?',opts:['44','14','22','88'],ans:0},
      {id:'Q19',q:'If a:b = 5:2 and a+b=35, a= ?',opts:['25','15','20','10'],ans:0},
      {id:'Q20',q:'If speed is 60 km/h, distance in 30 mins is?',opts:['30 km','20 km','15 km','25 km'],ans:2},
      {id:'Q21',q:'What is 15% of 200?',opts:['30','25','20','15'],ans:0},
      {id:'Q22',q:'Sum of first 5 natural numbers is?',opts:['15','10','20','5'],ans:0},
      {id:'Q23',q:'If 4 pencils cost 20, one costs?',opts:['5','4','6','3'],ans:0},
      {id:'Q24',q:'If x-5=10, x=?',opts:['15','10','5','20'],ans:0},
      {id:'Q25',q:'Area of rectangle 5 x 6 is?',opts:['30','20','25','35'],ans:0},
      {id:'Q26',q:'If you save 20 out of 100, percent saved?',opts:['20%','25%','10%','15%'],ans:0},
      {id:'Q27',q:'If a bag has 3 red and 2 blue, prob of blue?',opts:['2/5','3/5','1/2','1/5'],ans:0},
      {id:'Q28',q:'If 9*9=81, what is 81/9?',opts:['9','8','7','6'],ans:0},
      {id:'Q29',q:'If 2^3 = 8, 2^4 = ?',opts:['16','12','8','10'],ans:0},
      {id:'Q30',q:'Percentage of 50/200 is?',opts:['25%','20%','30%','35%'],ans:0}
    ];

    // ------ reasoning puzzle pool (15 puzzles) ------
    // Each puzzle defines a 3x3 grid where some cells have shapes: 'circle','triangle','square' with colors
    // 'null' represents empty; 'M' is missing spot (to be filled). 'options' are candidate shapes with colors.
    const REASON_POOL = [
      {id:'P1',grid:[['circle','circle','circle'],['triangle','M','triangle'],['square','square','square']],options:['circle','triangle','square'],ans:'triangle'},
      {id:'P2',grid:[['square',null,'square'],[null,'M',null],['square',null,'square']],options:['square','circle','triangle'],ans:'circle'},
      {id:'P3',grid:[['circle','triangle','circle'],['triangle','circle','triangle'],['circle','M','circle']],options:['triangle','circle','square'],ans:'circle'},
      {id:'P4',grid:[['square','triangle','square'],['triangle','square','triangle'],['M','triangle','square']],options:['square','triangle','circle'],ans:'square'},
      {id:'P5',grid:[['circle',null,'triangle'],[null,'M',null],['triangle',null,'circle']],options:['circle','triangle','square'],ans:'square'},
      {id:'P6',grid:[['triangle','triangle','triangle'],['square','M','square'],['circle','circle','circle']],options:['circle','square','triangle'],ans:'square'},
      {id:'P7',grid:[['circle','square','circle'],['square','M','square'],['circle','square','circle']],options:['square','circle','triangle'],ans:'square'},
      {id:'P8',grid:[['triangle',null,'triangle'],[null,'M',null],['triangle',null,'triangle']],options:['triangle','circle','square'],ans:'circle'},
      {id:'P9',grid:[['square','circle','triangle'],['circle','triangle','square'],['triangle','M','circle']],options:['circle','triangle','square'],ans:'triangle'},
      {id:'P10',grid:[['M','triangle','circle'],['triangle','circle','triangle'],['circle','triangle','square']],options:['square','circle','triangle'],ans:'square'},
      {id:'P11',grid:[['circle','circle','circle'],['circle','M','circle'],['circle','circle','circle']],options:['circle','triangle','square'],ans:'circle'},
      {id:'P12',grid:[['square','square','null'],['null','M','null'],['null','square','square']],options:['square','triangle','circle'],ans:'square'},
      {id:'P13',grid:[['triangle','square','triangle'],['square','M','square'],['triangle','square','triangle']],options:['triangle','square','circle'],ans:'triangle'},
      {id:'P14',grid:[['circle','triangle','square'],['triangle','M','triangle'],['square','triangle','circle']],options:['triangle','circle','square'],ans:'triangle'},
      {id:'P15',grid:[['null','circle','null'],['circle','M','circle'],['null','circle','null']],options:['circle','square','triangle'],ans:'circle'}
    ];

    // ----------------- app state -----------------
    const STATE = {
      testIndex: 1,
      testData: {}, // will hold per-test questions & puzzles
      currentPage: 'home', // home | quant | reason | result
      quantTimer: 40*60,
      reasonTimer: 40*60,
      quantInterval: null,
      reasonInterval: null
    };

    // ----------------- helpers -----------------
    function randSample(arr,n){
      const copy = arr.slice();
      for(let i=copy.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1)); [copy[i],copy[j]]=[copy[j],copy[i]];
      }
      return copy.slice(0,n);
    }

    function render(){
      const app = document.getElementById('app');
      app.innerHTML = '';
      document.getElementById('currentTest').textContent = `Test ${STATE.testIndex} / ${TOTAL_TESTS}`;

      if(STATE.currentPage==='home') return renderHome(app);
      if(STATE.currentPage==='quant') return renderQuant(app);
      if(STATE.currentPage==='reason') return renderReason(app);
      if(STATE.currentPage==='result') return renderResult(app);
    }

    // ----------------- Home -----------------
    function renderHome(container){
      const card = el('div',{class:'card home-grid'},
        el('div',{},
          el('h2',{},`Ready for Test ${STATE.testIndex}?`),
          el('p',{class:'muted'},'Each test has two pages: Quantitative (40 min) and Deductive/Inductive Reasoning (40 min).'),
          el('div',{style:'margin-top:12px;'},
            el('button',{class:'btn primary',onclick:startQuant},'Start Quantitative (40 min)'),
            el('button',{class:'btn',style:'margin-left:8px',onclick:prepareAndStartReason},'Skip to Reasoning')
          ),
          el('div',{style:'margin-top:12px'},
            el('button',{class:'btn',onclick:saveProgress},'Save progress (local)')
          ),
          el('div',{style:'margin-top:12px',class:'muted'},'You will complete Quant first then Reasoning. After both are done you will see results and can proceed to next test.')
        ),
        el('aside',{},
          el('div',{class:'card'},
            el('h3',{},'Test Info'),
            el('div',{class:'muted'},`Quant questions: ${QUANT_PER_TEST}`),
            el('div',{class:'muted'},`Reason puzzles: ${REASON_PER_TEST}`),
            el('div',{style:'margin-top:8px'},el('strong',{},`Progress: ${STATE.testIndex-1} completed`))
          )
        )
      );
      container.appendChild(card);
    }

    // ----------------- Quantitative Page -----------------
    function startQuant(){
      // prepare if not already
      if(!STATE.testData[STATE.testIndex]) prepareTestData(STATE.testIndex);
      STATE.currentPage='quant'; STATE.quantTimer=40*60; render(); startQuantTimer();
    }

    function startQuantTimer(){
      clearInterval(STATE.quantInterval);
      const timerEl = document.getElementById('quantTimer');
      timerEl.textContent = formatTime(STATE.quantTimer);
      STATE.quantInterval = setInterval(()=>{
        STATE.quantTimer--; timerEl.textContent=formatTime(STATE.quantTimer);
        if(STATE.quantTimer<=0){ clearInterval(STATE.quantInterval); autoSubmitQuant(); }
      },1000);
    }

    function autoSubmitQuant(){
      alert('Quant time over — auto-submitting and moving to Reasoning');
      submitQuant();
    }

    function renderQuant(container){
      const data = STATE.testData[STATE.testIndex];
      const card = el('div',{class:'card'},
        el('div',{class:'flex'},
          el('div',{},el('h2',{},'Quantitative Aptitude')),
          el('div',{style:'margin-left:auto;text-align:right'},el('div',{class:'muted'},'Time left'),el('div',{class:'timer',id:'quantTimer'},formatTime(STATE.quantTimer)))
        ),
        el('div',{style:'margin-top:12px'},
          ...data.quant.map((q,idx)=>{
            return el('div',{class:'qbox',key:q.id},
              el('div',{},el('strong',{},`Q${idx+1}. ${q.q}`)),
              el('div',{class:'options'},
                ...q.opts.map((o,i)=>{
                  const selected = data.answers && data.answers[q.id]===i;
                  return el('div',{class:`opt ${selected?'selected':''}`,onclick:()=>{ data.answers[q.id]=i; render(); }}, o);
                })
              )
            );
          })
        ),
        el('div',{class:'controls'},
          el('button',{class:'btn',onclick:()=>{ if(confirm('Submit Quant answers?')) submitQuant(); }},'Submit Section')
        )
      );
      container.appendChild(card);
    }

    function submitQuant(){
      clearInterval(STATE.quantInterval);
      STATE.currentPage='home';
      // mark quant completed
      STATE.testData[STATE.testIndex].quantDone = true;
      alert('Quant section submitted. Now start Reasoning.');
      render();
      // auto navigate to reasoning after short delay
      setTimeout(()=>{ startReason(); },300);
    }

    // ----------------- Reasoning Page -----------------
    function prepareAndStartReason(){ if(!STATE.testData[STATE.testIndex]) prepareTestData(STATE.testIndex); startReason(); }
    function startReason(){
      STATE.currentPage='reason'; STATE.reasonTimer=40*60; render(); startReasonTimer();
    }

    function startReasonTimer(){ clearInterval(STATE.reasonInterval); const timerEl=document.getElementById('reasonTimer'); timerEl.textContent=formatTime(STATE.reasonTimer); STATE.reasonInterval=setInterval(()=>{ STATE.reasonTimer--; timerEl.textContent=formatTime(STATE.reasonTimer); if(STATE.reasonTimer<=0){ clearInterval(STATE.reasonInterval); autoSubmitReason(); } },1000); }

    function autoSubmitReason(){ alert('Reasoning time over — auto-submitting'); submitReason(); }

    function renderReason(container){
      const data = STATE.testData[STATE.testIndex];
      const card = el('div',{class:'card'},
        el('div',{class:'flex'},el('h2',{},'Deductive & Inductive Reasoning (Gamified)'),el('div',{style:'margin-left:auto;text-align:right'},el('div',{class:'muted'},'Time left'),el('div',{class:'timer',id:'reasonTimer'},formatTime(STATE.reasonTimer)))),
        ...data.reason.map((pidx,idx)=>{
          const puzzle = data.reasonPool[idx];
          return el('div',{class:'card',style:'margin-top:12px'},
            el('div',{},el('strong',{},`Puzzle ${idx+1}`)),
            el('div',{class:'puzzle-wrap'},
              renderPuzzleGrid(puzzle),
              el('div',{},
                el('div',{class:'muted'},'Choose the correct shape below'),
                el('div',{class:'opt-row'},
                  ...puzzle.options.map(opt=>renderShapeBtn(opt,()=>{ handlePuzzleAnswer(data,puzzle,idx,opt); }))
                )
              )
            ),
            el('div',{style:'margin-top:8px',class:'muted small'},()=>{})
          );
        }),
        el('div',{style:'margin-top:12px'},el('button',{class:'btn primary',onclick:()=>{ if(confirm('Submit reasoning now?')) submitReason(); }},'Submit Reasoning'))
      );
      container.appendChild(card);
    }

    function renderPuzzleGrid(p){
      const wrapper = el('div',{}, el('div',{class:'grid3'}));
      const grid = document.createElement('div'); grid.className='grid3';
      p.grid.forEach(row=>{
        row.forEach(cell=>{
          const c = document.createElement('div'); c.className='cell';
          if(cell && cell!=='M'){
            const s = document.createElement('div'); s.className=`shape ${cell}`; styleShape(s,cell); c.appendChild(s);
          } else if(cell==='M'){
            c.innerHTML = '<strong style="font-size:18px">?</strong>';
            c.classList.add('empty');
          }
          grid.appendChild(c);
        })
      });
      return grid;
    }

    function renderShapeBtn(opt,onclick){
      const btn = document.createElement('div'); btn.className='shape-btn'; btn.addEventListener('click',onclick);
      const s = document.createElement('div'); s.className=`shape ${opt}`; styleShape(s,opt); btn.appendChild(s);
      return btn;
    }

    function styleShape(elm,type){
      elm.style.width='48px'; elm.style.height='48px'; elm.style.borderRadius='6px';
      if(type==='circle'){ elm.style.borderRadius='50%'; elm.style.background='#6fa04b'; }
      if(type==='triangle'){ elm.style.width='0'; elm.style.height='0'; elm.style.borderLeft='24px solid transparent'; elm.style.borderRight='24px solid transparent'; elm.style.borderBottom='44px solid #1f6bd6'; elm.style.background='transparent'; }
      if(type==='square'){ elm.style.background='#e54b4b'; }
    }

    function handlePuzzleAnswer(testData,puzzle,index,choice){
      // record answer
      testData.reasonAnswers = testData.reasonAnswers || {};
      testData.reasonAnswers[puzzle.id] = choice;
      // immediate feedback: mark button green/red
      // we will briefly show feedback by highlighting correct/wrong on buttons
      // simple alert for now
      if(choice===puzzle.ans){
        alert('Correct!');
      } else { alert('Wrong — the correct shape was: ' + puzzle.ans); }
      render();
    }

    function submitReason(){
      clearInterval(STATE.reasonInterval);
      STATE.testData[STATE.testIndex].reasonDone = true;
      calculateScores(STATE.testIndex);
      STATE.currentPage='result'; render();
    }

    // ----------------- Result -----------------
    function calculateScores(tidx){
      const data = STATE.testData[tidx];
      // quant score
      let qscore=0; data.quant.forEach(q=>{ if(data.answers && data.answers[q.id]===q.ans) qscore++; });
      // reasoning score
      let rscore=0; data.reasonPool.forEach(p=>{ if(data.reasonAnswers && data.reasonAnswers[p.id]===p.ans) rscore++; });
      data.score = {quant:qscore,reason:rscore,total:qscore+rscore};
      data.completed = true;
    }

    function renderResult(container){
      const data = STATE.testData[STATE.testIndex];
      const card = el('div',{class:'card'},
        el('h2',{},'Test Result'),
        el('div',{style:'margin-top:8px'},el('strong',{},`Quant: ${data.score.quant} / ${QUANT_PER_TEST}`)),
        el('div',{},el('strong',{},`Reasoning: ${data.score.reason} / ${REASON_PER_TEST}`)),
        el('div',{},el('strong',{},`Total: ${data.score.total} / ${QUANT_PER_TEST+REASON_PER_TEST}`)),
        el('div',{style:'margin-top:12px'},
          el('button',{class:'btn primary',onclick:nextTest}, STATE.testIndex<TOTAL_TESTS? 'Start Next Test':'All tests completed'),
          el('button',{class:'btn',style:'margin-left:8px',onclick:retake},'Retake This Test')
        )
      );
      container.appendChild(card);
    }

    function nextTest(){
      if(STATE.testIndex < TOTAL_TESTS){ STATE.testIndex++; STATE.currentPage='home'; render(); }
      else{ alert('You have completed all tests.'); }
    }
    function retake(){
      // reset this test data and start again
      delete STATE.testData[STATE.testIndex]; prepareTestData(STATE.testIndex); STATE.currentPage='quant'; render(); startQuantTimer();
    }

    // ----------------- test data generation -----------------
    function prepareTestData(tidx){
      const quant = randSample(QUANT_POOL,QUANT_PER_TEST);
      const reasonPool = randSample(REASON_POOL,REASON_PER_TEST);
      STATE.testData[tidx] = {quant:quant,answers:{},quantDone:false,reasonPool:reasonPool,reason:reasonPool.map((p,i)=>p.id),reasonAnswers:{},reasonDone:false};
    }

    // ----------------- util & save progress -----------------
    function formatTime(sec){ const m=Math.floor(sec/60).toString().padStart(2,'0'); const s=(sec%60).toString().padStart(2,'0'); return `${m}:${s}`; }

    function el(tag,attrs,...children){ const node = document.createElement(tag||'div'); if(attrs){ Object.entries(attrs).forEach(([k,v])=>{ if(k==='onclick') node.addEventListener('click',v); else if(k==='class') node.className=v; else if(k==='style') node.style.cssText=v; else node.setAttribute(k,v); }); } children.flat().forEach(c=>{ if(typeof c==='string' || typeof c==='number') node.appendChild(document.createTextNode(c)); else if(typeof c==='function') node.appendChild(document.createTextNode(c())); else if(c) node.appendChild(c); }); return node; }

    function saveProgress(){ localStorage.setItem('cognizant_mock_progress', JSON.stringify({testIndex:STATE.testIndex,testData:STATE.testData})); alert('Progress saved locally. You can reload and resume.'); }

    function loadProgress(){ const raw = localStorage.getItem('cognizant_mock_progress'); if(!raw) return; try{ const d = JSON.parse(raw); STATE.testIndex = d.testIndex || 1; STATE.testData = d.testData || {}; alert('Progress loaded from local storage.'); }catch(e){ console.error(e); } }

    // init
    loadProgress(); render();
  </script>
</body>
</html>